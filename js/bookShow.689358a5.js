(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bookShow"],{"0a2d":function(t,e,s){"use strict";s("ec10")},"0f20":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"relative",on:{mouseenter:function(e){t.showDetails=!0},mouseleave:function(e){t.showDetails=!1}}},[s("router-link",{staticClass:"h-64 block",attrs:{to:{name:"Book.show",params:{id:t.book.id}}}},[s("img",{staticClass:"object-cover w-full h-full shadow-lg",attrs:{src:"https://source.unsplash.com/random",alt:""}})]),0===t.book.quantity_in_stock?s("div",{staticClass:"absolute top-2 left-2 px-2 py-1 font-semibold text-xs bg-red-200 text-red-500"},[t._v(" Esaurito ")]):t._e(),s("transition",{attrs:{name:"fade"}},[t.showDetails?s("div",{staticClass:"absolute bottom-0 left-0 right-0 py-2 flex space-x-1 justify-center"},[s("div",{staticClass:"cursor-pointer p-2 rounded-lg transition bg-black bg-opacity-50 bg-clip-padding blur-backdrop-filter",class:[t.isInFavourites()?"text-red-500":"text-gray-100 hover:text-red-500"],on:{click:function(e){return t.addToFavourite()}}},[s("svg",{staticClass:"w-4 h-4 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M16,2H8A3,3,0,0,0,5,5V21a1,1,0,0,0,.5.87,1,1,0,0,0,1,0L12,18.69l5.5,3.18A1,1,0,0,0,18,22a1,1,0,0,0,.5-.13A1,1,0,0,0,19,21V5A3,3,0,0,0,16,2Zm1,17.27-4.5-2.6a1,1,0,0,0-1,0L7,19.27V5A1,1,0,0,1,8,4h8a1,1,0,0,1,1,1Z"}})])]),s("div",{staticClass:"relative"},[s("div",{staticClass:"block text-gray-100 p-2 rounded-lg bg-black bg-opacity-50 bg-clip-padding blur-backdrop-filter",on:{mouseover:function(e){t.showBookGenres=!0},mouseleave:function(e){t.showBookGenres=!1}}},[s("svg",{staticClass:"w-4 h-4 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M18,2H8A4,4,0,0,0,4,6V18a4,4,0,0,0,4,4H18a2,2,0,0,0,2-2V4A2,2,0,0,0,18,2ZM6,6A2,2,0,0,1,8,4H18V14H8a3.91,3.91,0,0,0-2,.56ZM8,20a2,2,0,0,1,0-4H18v4ZM10,8h4a1,1,0,0,0,0-2H10a1,1,0,0,0,0,2Z"}})])]),t.showBookGenres?s("div",{staticClass:"absolute p-3 bottom-10 -left-5 rounded-lg bg-black bg-opacity-60 bg-clip-padding blur-backdrop-filter"},[s("div",{staticClass:"flex flex-col text-sm"},t._l(t.book.genres,(function(e){return s("router-link",{key:e.id,staticClass:"block leading-tight text-white",attrs:{to:{name:"Genre.show",params:{id:e.id}}}},[t._v(" "+t._s(e.name)+" ")])})),1)]):t._e()])]):t._e()])],1),s("div",{staticClass:"pt-2"},[s("header",{staticClass:"text-sm mb-1"},[s("router-link",{attrs:{to:{name:"Book.show",params:{id:t.book.id}}}},[s("p",{staticClass:"leading-none mb-1 text-gray-600"},[t._v(t._s(t._f("truncate")(t.book.title)))])]),s("div",t._l(t.book.authors,(function(e){return s("router-link",{key:e.id,staticClass:"block text-xs leading-tight text-gray-400 hover:text-gray-600",attrs:{to:""}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),s("footer",{staticClass:"flex space-x-4 justify-between items-center mt-2"},["Favourites"!=t.$route.name?s("div",{staticClass:"flex items-center space-x-1"},[s("div",{staticClass:"flex items-center"},[t._l(t.book.avg_rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-3.5 flex-none text-primary-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])})),t._l(5-t.book.avg_rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-3.5 flex-none text-gray-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])}))],2),s("span",{staticClass:"text-xs text-gray-400"},[t._v("("+t._s(t.book.reviews_count)+")")])]):t._e(),s("span",{staticClass:"block text-sm text-gray-600"},[t._v("€"+t._s(t.book.price)+",00")])])])])},r=[],a=(s("a9e3"),s("7db0"),s("d3b7"),{name:"bookCard",props:{book:{type:Object,required:!0},index:{type:Number,required:!0}},data:function(){return{showBookGenres:!1,showDetails:!1}},computed:{favourites:function(){return this.$store.getters["favourites/favourites"]},items:function(){return this.$store.getters["cart/items"]},isAuth:function(){return this.$store.getters["auth/is_auth"]}},methods:{addToFavourite:function(){this.isAuth||this.$router.push({name:"Login"}),this.isInFavourites()?this.$store.dispatch("favourites/removeFromFavourite",{book:this.book}):this.$store.dispatch("favourites/addToFavourite",{book:this.book})},isInFavourites:function(){var t=this;return this.favourites.find((function(e){return e.id==t.book.id}))}},filters:{truncate:function(t){return t.length>28?t.substring(0,28)+"...":t}}}),n=a,o=(s("0a2d"),s("2877")),l=Object(o["a"])(n,i,r,!1,null,null,null);e["a"]=l.exports},"408a":function(t,e,s){var i=s("e330");t.exports=i(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var i=s("e330"),r=s("1d80"),a=s("577e"),n=s("5899"),o=i("".replace),l="["+n+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(t){return function(e){var s=a(r(e));return 1&t&&(s=o(s,c,"")),2&t&&(s=o(s,u,"")),s}};t.exports={start:d(1),end:d(2),trim:d(3)}},"6e5d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-20"},[t.book?s("div",[s("breadcrumb",{attrs:{routes:[{name:"Book.index",text:"Libri"}],current:t.book.title}}),t.book.quantity_in_stock>=1&&t.book.quantity_in_stock<=4?s("div",{staticClass:"bg-blue-100 text-blue-500 text-sm p-4 mt-4 mb-10 rounded-lg flex items-center space-x-2"},[s("svg",{staticClass:"w-5 h-5 flex-none",attrs:{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M12,2A10,10,0,1,0,22,12,10.01114,10.01114,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20Zm0-8.5a1,1,0,0,0-1,1v3a1,1,0,0,0,2,0v-3A1,1,0,0,0,12,11.5Zm0-4a1.25,1.25,0,1,0,1.25,1.25A1.25,1.25,0,0,0,12,7.5Z"}})]),s("p",[t._v(t._s(1==t.book.quantity_in_stock?"È rimasta solo "+t.book.quantity_in_stock+" copia":"Sono rimaste solo "+t.book.quantity_in_stock+" copie"))])]):t._e(),s("section",{staticClass:"md:flex md:space-x-8 border-b pb-20 mb-20"},[s("section",{staticClass:"md:w-2/5 lg:w-1/3 mb-8 md:mb-0"},[s("div",{staticClass:"relative"},[t._m(0),t.isExpired?s("div",{staticClass:"absolute top-4 left-4 px-2 py-1 font-semibold bg-red-200 text-red-500"},[t._v(" Esaurito ")]):t._e()])]),s("section",{staticClass:"md:w-3/5 lg:w-2/3 flex flex-col space-y-6 justify-between"},[s("div",[s("div",{staticClass:"md:flex md:items-start md:justify-between md:space-x-8 text-2xl text-secondary-100 mb-1"},[s("h2",{staticClass:"leading-none mb-2 md:mb-0"},[t._v(t._s(t.book.title))]),s("p",[t._v("€"+t._s(t.book.price)+",00")])]),s("div",{staticClass:"flex items-center text-gray-500 space-x-2 text-sm"},[t._l(t.book.authors,(function(e){return s("router-link",{key:e.id,staticClass:"block leading-tight hover:text-primary-300 transition",attrs:{to:""}},[t._v(" "+t._s(e.name)+" ")])})),s("span",{staticClass:"text-xs"},[t._v("•")]),s("div",{staticClass:"flex items-center space-x-2"},t._l(t.book.genres,(function(e){return s("router-link",{key:e.id,staticClass:"block leading-tight hover:text-primary-300 transition",attrs:{to:{name:"Genre.show",params:{id:e.id}}}},[t._v(" "+t._s(e.name)+" ")])})),1),s("span",{staticClass:"text-xs"},[t._v("•")]),s("span",{staticClass:"block"},[t._v(t._s(t.book.first_published))])],2),s("div",{staticClass:"flex items-center space-x-1 my-4"},[s("div",{staticClass:"flex items-center"},[t._l(t.book.avg_rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-4 flex-none text-primary-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])})),t._l(5-t.book.avg_rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-4 flex-none text-gray-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])}))],2),s("span",{staticClass:"text-xs text-gray-400"},[t._v(t._s(t.book.reviews_count)+" recensioni")])]),s("p",{staticClass:"text-gray-400 text-sm leading-tight"},[t._v(t._s(t.book.description))]),s("div",{staticClass:"mt-4 text-gray-400 text-sm"},[s("p",[t._v(t._s(t.book.status))]),s("p",[t._v("Copertina "+t._s(t.book.cover))])])]),s("footer",[s("div",{staticClass:"flex flex-col space-y-5 md:space-y-0 md:flex-row md:items-center md:justify-between"},[s("div",{staticClass:"flex items-center space-x-1"},[s("div",{staticClass:"border py-1 px-3 bg-white text-gray-600 cursor-pointer",on:{click:function(e){return t.decreaseQuantity()}}},[t._v(" - ")]),s("div",{staticClass:"border py-1 px-3 bg-white text-gray-600"},[t._v(" "+t._s(t.quantity)+" ")]),s("div",{staticClass:"border py-1 px-3 bg-white text-gray-600 cursor-pointer",on:{click:function(e){return t.increaseQuantity()}}},[t._v(" + ")])]),s("div",{staticClass:"flex items-center space-x-2 justify-between"},[s("div",{staticClass:"cursor-pointer p-1.5 transition rounded-full",class:[t.isInFavourites()?"bg-red-200 text-red-500":"text-gray-500 hover:bg-red-200 hover:text-red-500"],on:{click:function(e){return t.addToFavourite()}}},[s("svg",{staticClass:"w-5 h-5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M16,2H8A3,3,0,0,0,5,5V21a1,1,0,0,0,.5.87,1,1,0,0,0,1,0L12,18.69l5.5,3.18A1,1,0,0,0,18,22a1,1,0,0,0,.5-.13A1,1,0,0,0,19,21V5A3,3,0,0,0,16,2Zm1,17.27-4.5-2.6a1,1,0,0,0-1,0L7,19.27V5A1,1,0,0,1,8,4h8a1,1,0,0,1,1,1Z"}})])]),t.isExpired?t._e():s("button",{staticClass:"flex-none max-w-max bg-secondary-100 hover:bg-secondary-200 transition focus:outline-none text-white text-sm px-4 py-3",on:{click:function(e){return t.addToCart()}}},[t._v(" Aggiungi al carrello ")])])])])])]),s("div",[t.reviews?s("bookReviews",{attrs:{reviews:t.reviews,selectedReviews:t.selectedReviews,rating:t.rating,book:t.book},on:{selectReviews:t.selectReviews}}):t._e(),s("similarBooks",{attrs:{books:t.similarBooks}})],1)],1):s("div",{staticClass:"pb-20 mb-20 mt-16"},[s("content-placeholders",[s("content-placeholders-heading",{attrs:{img:!0}}),s("content-placeholders-text",{attrs:{lines:5}})],1)],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"h-96 w-full flex-none"},[s("img",{staticClass:"object-cover w-full h-full shadow-lg",attrs:{src:"https://source.unsplash.com/random",alt:""}})])}],a=(s("a9e3"),s("4e82"),s("7db0"),s("d3b7"),s("8d1a")),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"border-b pb-20 mb-20"},[s("h3",{staticClass:"text-xl font-semibold text-gray-600 mb-4"},[t._v("Recensioni")]),t.reviews&&t.reviews.length>0?s("section",{staticClass:"md:flex md:flex-row md:space-x-12"},[s("section",{staticClass:"md:w-1/3 mb-8 md:mb-0"},[s("div",{staticClass:"border p-4 pb-8"},[s("div",{staticClass:"flex items-center justify-center space-x-0.5"},[s("span",{staticClass:"text-4xl text-gray-600 font-semibold block"},[t._v(t._s(t.book.avg_rating))]),s("span",{staticClass:"text-lg text-gray-400 font-normal block"},[t._v("/5")])]),s("div",{staticClass:"flex items-center justify-center mt-1"},[t._l(t.book.avg_rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-5 flex-none text-primary-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])})),t._l(5-t.book.avg_rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-5 flex-none text-gray-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])}))],2),s("p",{staticClass:"text-gray-700 text-center text-sm mt-2"},[t._v(t._s(t.book.reviews_count)+" recensioni")]),s("div",{staticClass:"mt-6 space-y-4.5"},[s("div",{staticClass:"flex items-center justify-between relative"},[s("span",{staticClass:"text-gray-500 text-sm absolute left-0"},[t._v("5")]),s("div",{staticClass:"w-4/5 mx-auto flex"},[s("div",{staticClass:"h-2 rounded-l-full",class:{"rounded-full":t.fiveStarsReview==t.reviews.length},style:"background:rgba(254, 179, 114); width:"+t.fiveStarsReview/t.reviews.length*100+"%"}),s("div",{staticClass:"h-2 rounded-r-full",class:{"rounded-full":0==t.fiveStarsReview},style:"background:rgba(229, 231, 235);width:"+(100-t.fiveStarsReview/t.reviews.length*100)+"%"})]),s("span",{staticClass:"block text-gray-500 hover:underline text-sm cursor-pointer absolute right-0",class:{"text-primary-300":5===t.rating},on:{click:function(e){return t.selectReviews(5)}}},[t._v(" "+t._s(t.fiveStarsReview)+" ")])]),s("div",{staticClass:"flex items-center justify-between relative"},[s("span",{staticClass:"text-gray-500 text-sm absolute left-0"},[t._v("4")]),s("div",{staticClass:"w-4/5 mx-auto flex"},[s("div",{staticClass:"h-2 rounded-l-full",class:{"rounded-full":t.fourStarsReview==t.reviews.length},style:"background:rgba(254, 179, 114); width:"+t.fourStarsReview/t.reviews.length*100+"%"}),s("div",{staticClass:"h-2 rounded-r-full",class:{"rounded-full":0==t.fourStarsReview},style:"background:rgba(229, 231, 235);width:"+(100-t.fourStarsReview/t.reviews.length*100)+"%"})]),s("span",{staticClass:"block text-gray-500 hover:underline text-sm cursor-pointer absolute right-0",class:{"text-primary-300":4===t.rating},on:{click:function(e){return t.selectReviews(4)}}},[t._v(" "+t._s(t.fourStarsReview)+" ")])]),s("div",{staticClass:"flex items-center justify-between relative"},[s("span",{staticClass:"text-gray-500 text-sm absolute left-0"},[t._v("3")]),s("div",{staticClass:"w-4/5 mx-auto flex"},[s("div",{staticClass:"h-2 rounded-l-full",class:{"rounded-full":t.threeStarsReview==t.reviews.length},style:"background:rgba(254, 179, 114); width:"+t.threeStarsReview/t.reviews.length*100+"%"}),s("div",{staticClass:"h-2 rounded-r-full",class:{"rounded-full":0==t.threeStarsReview},style:"background:rgba(229, 231, 235);width:"+(100-t.threeStarsReview/t.reviews.length*100)+"%"})]),s("span",{staticClass:"block text-gray-500 hover:underline text-sm cursor-pointer absolute right-0",class:{"text-primary-300":3===t.rating},on:{click:function(e){return t.selectReviews(3)}}},[t._v(" "+t._s(t.threeStarsReview)+" ")])]),s("div",{staticClass:"flex items-center justify-between relative"},[s("span",{staticClass:"text-gray-500 text-sm absolute left-0"},[t._v("2")]),s("div",{staticClass:"w-4/5 mx-auto flex"},[s("div",{staticClass:"h-2 rounded-l-full",class:{"rounded-full":t.twoStarsReview==t.reviews.length},style:"background:rgba(254, 179, 114); width:"+t.twoStarsReview/t.reviews.length*100+"%"}),s("div",{staticClass:"h-2 rounded-r-full",class:{"rounded-full":0==t.twoStarsReview},style:"background:rgba(229, 231, 235);width:"+(100-t.twoStarsReview/t.reviews.length*100)+"%"})]),s("span",{staticClass:"block text-gray-500 hover:underline text-sm cursor-pointer absolute right-0",class:{"text-primary-300":2===t.rating},on:{click:function(e){return t.selectReviews(2)}}},[t._v(" "+t._s(t.twoStarsReview)+" ")])]),s("div",{staticClass:"flex items-center justify-between relative"},[s("span",{staticClass:"text-gray-500 text-sm absolute left-0"},[t._v("1")]),s("div",{staticClass:"w-4/5 mx-auto flex"},[s("div",{staticClass:"h-2 rounded-l-full",class:{"rounded-full":t.oneStarReview==t.reviews.length},style:"background:rgba(254, 179, 114); width:"+t.oneStarReview/t.reviews.length*100+"%"}),s("div",{staticClass:"h-2 rounded-r-full",class:{"rounded-full":0==t.oneStarReview},style:"background:rgba(229, 231, 235);width:"+(100-t.oneStarReview/t.reviews.length*100)+"%"})]),s("span",{staticClass:"block text-gray-500 hover:underline text-sm cursor-pointer absolute right-0",class:{"text-primary-300":1===t.rating},on:{click:function(e){return t.selectReviews(1)}}},[t._v(" "+t._s(t.oneStarReview)+" ")])])])])]),s("div",{staticClass:"md:w-2/3"},[t.selectedReviews.length>0?s("div",t._l(t.selectedReviews,(function(t){return s("singleReview",{key:t.id,attrs:{review:t}})})),1):s("div",[t._l(t.reviews.slice(0,5),(function(t){return s("singleReview",{key:t.id,attrs:{review:t}})})),t.reviews.length>5?s("router-link",{staticClass:"text-right text-gray-400 hover:text-gray-600 text-sm block",attrs:{to:{name:"Book.reviews",params:{id:t.book.id}}}},[t._v(" Mostra tutte ")]):t._e()],2)])]):s("section",[s("p",{staticClass:"text-gray-500 text-sm"},[t._v("Questo libro non ha ancora ricevuto recensioni")])])])},o=[],l=(s("4de4"),s("9705")),c={name:"bookReviews",props:{book:{type:Object,required:!0},reviews:{type:Array,required:!1},selectedReviews:{type:Array,required:!1},rating:{type:Number,required:!1}},components:{singleReview:l["a"]},computed:{fiveStarsReview:function(){return this.reviews.filter((function(t){return 5===t.rating})).length},fourStarsReview:function(){return this.reviews.filter((function(t){return 4===t.rating})).length},threeStarsReview:function(){return this.reviews.filter((function(t){return 3===t.rating})).length},twoStarsReview:function(){return this.reviews.filter((function(t){return 2===t.rating})).length},oneStarReview:function(){return this.reviews.filter((function(t){return 1===t.rating})).length}},methods:{selectReviews:function(t){this.$emit("selectReviews",t)}}},u=c,d=s("2877"),v=Object(d["a"])(u,n,o,!1,null,null,null),f=v.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.books&&t.books.length>0?s("section",[s("h3",{staticClass:"text-xl font-semibold text-gray-600 mb-4"},[t._v("Potrebbero interessarti")]),s("div",{staticClass:"flex items-center space-x-6 overflow-x-auto pb-10"},t._l(t.books,(function(t,e){return s("bookCard",{key:t.id,attrs:{book:t,index:e}})})),1)]):t._e()])},m=[],h=s("0f20"),w={name:"similarBooks",props:{books:{type:[Array,Object]}},components:{bookCard:h["a"]}},b=w,x=Object(d["a"])(b,g,m,!1,null,null,null),p=x.exports,k={name:"Book.show",props:{id:{type:Number,required:!0}},components:{breadcrumb:a["a"],bookReviews:f,similarBooks:p},mounted:function(){this.getBook(),this.getReviews(),this.getSimilarBooks()},data:function(){return{quantity:1,rating:null,sort:"created_desc"}},watch:{id:{handler:function(){this.getBook(),this.getReviews(),this.getSimilarBooks(),this.quantity=1},deep:!0,immediate:!0},rating:function(){this.getReviews()}},computed:{book:function(){return this.$store.getters["books/book"]},reviews:function(){return this.$store.getters["books/reviews"]},selectedReviews:function(){return this.$store.getters["books/selectedReviews"]},similarBooks:function(){return this.$store.getters["books/similarBooks"]},favourites:function(){return this.$store.getters["favourites/favourites"]},items:function(){return this.$store.getters["cart/items"]},isAuth:function(){return this.$store.getters["auth/is_auth"]},isExpired:function(){return 0===this.book.quantity_in_stock}},methods:{getBook:function(){this.$store.dispatch("books/getBook",{id:this.id})},getReviews:function(){this.$store.dispatch("books/getReviews",{id:this.id,rating:this.rating,sort:this.sort})},getSimilarBooks:function(){this.$store.dispatch("books/getSimilarBooks",{id:this.id})},addToFavourite:function(){this.isAuth||this.$router.push({name:"Login"}),this.isInFavourites()?this.$store.dispatch("favourites/removeFromFavourite",{book:this.book}):this.$store.dispatch("favourites/addToFavourite",{book:this.book})},isInFavourites:function(){var t=this;return this.favourites.find((function(e){return e.id==t.book.id}))},increaseQuantity:function(){this.quantity=this.quantity+1},decreaseQuantity:function(){this.quantity<=1||(this.quantity=this.quantity-1)},addToCart:function(){this.isAuth?this.$store.dispatch("cart/addToCart",{item:{book:this.book,quantity:this.quantity}}):this.$router.push({name:"Login"})},selectReviews:function(t){this.rating==t?this.rating=null:this.rating=t}}},C=k,y=Object(d["a"])(C,i,r,!1,null,null,null);e["default"]=y.exports},7156:function(t,e,s){var i=s("1626"),r=s("861d"),a=s("d2bb");t.exports=function(t,e,s){var n,o;return a&&i(n=e.constructor)&&n!==s&&r(o=n.prototype)&&o!==s.prototype&&a(t,o),t}},"82ef":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.user?s("div",[t.user.image?s("img",{attrs:{src:t.imagePath,alt:"user image"}}):s("img",{attrs:{src:"https://eu.ui-avatars.com/api/?name="+t.user.name,alt:"user image"}})]):s("div",[s("img",{attrs:{src:"https://eu.ui-avatars.com/api/?name=undefined",alt:"user image"}})])])},r=[],a={name:"userImage",props:{user:{type:[Object,null],required:!1}},computed:{imagePath:function(){return"http://localhost:8000/storage/"+this.user.image.url}}},n=a,o=s("2877"),l=Object(o["a"])(n,i,r,!1,null,null,null);e["a"]=l.exports},"8d1a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"py-6 flex items-center text-sm"},[t._l(t.routes,(function(e,i){return s("div",{key:i,staticClass:"flex items-center mr-1"},[s("router-link",{staticClass:"text-gray-400 hover:text-gray-500 transition mr-1",attrs:{to:{name:e.name,params:e.params}}},[t._v(" "+t._s(e.text)+" ")]),s("svg",{staticClass:"w-4 h-4 flex-none text-gray-400 mt-0.5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M14.83,11.29,10.59,7.05a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41L12.71,12,9.17,15.54a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29l4.24-4.24A1,1,0,0,0,14.83,11.29Z"}})])],1)})),s("span",{staticClass:"text-gray-600"},[t._v(t._s(t.current))])],2)},r=[],a={name:"breadcrumb",props:{routes:{type:Array,required:!0},current:{type:String,required:!0}}},n=a,o=s("2877"),l=Object(o["a"])(n,i,r,!1,null,null,null);e["a"]=l.exports},9705:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-10"},[s("div",{staticClass:"flex space-x-4"},[s("div",{staticClass:"flex-none"},[s("userImage",{staticClass:"w-9 rounded-full",attrs:{user:t.review.user}})],1),s("div",[s("div",{staticClass:"flex items-start space-x-3"},[t.review.user?s("h4",{staticClass:"text-gray-600 text-sm font-semibold"},[t._v(t._s(t.review.user.name))]):s("h4",{staticClass:"text-gray-400 text-sm"},[t._v("Utente cancellato")]),s("div",{staticClass:"flex items-center space-x-4"},[s("div",{staticClass:"flex items-center"},[t._l(t.review.rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-4 flex-none text-primary-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])})),t._l(5-t.review.rating,(function(e){return s("svg",{key:e+t.$uniqid(),staticClass:"w-4.5 flex-none text-gray-300",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M22,10.1c0.1-0.5-0.3-1.1-0.8-1.1l-5.7-0.8L12.9,3c-0.1-0.2-0.2-0.3-0.4-0.4C12,2.3,11.4,2.5,11.1,3L8.6,8.2L2.9,9C2.6,9,2.4,9.1,2.3,9.3c-0.4,0.4-0.4,1,0,1.4l4.1,4l-1,5.7c0,0.2,0,0.4,0.1,0.6c0.3,0.5,0.9,0.7,1.4,0.4l5.1-2.7l5.1,2.7c0.1,0.1,0.3,0.1,0.5,0.1v0c0.1,0,0.1,0,0.2,0c0.5-0.1,0.9-0.6,0.8-1.2l-1-5.7l4.1-4C21.9,10.5,22,10.3,22,10.1z"}})])}))],2)])]),s("span",{staticClass:"block text-gray-400 text-xs"},[t._v(t._s(t.$moment(t.review.created_at).format("DD-MM-YYYY H:mm")))]),s("div",{staticClass:"mt-2 text-sm"},[t.review.title?s("p",{staticClass:"leading-tight text-gray-600 mb-1"},[t._v(t._s(t.review.title))]):t._e(),s("p",{staticClass:"text-gray-400 leading-tight"},[t._v(t._s(t.review.body))])]),"Reviews"===t.$route.name?s("div",{staticClass:"mt-4 text-xs text-gray-400 "},[s("span",[t._v("Recensione di: ")]),s("router-link",{staticClass:"hover:text-primary-300 transition",attrs:{to:{name:"Book.show",params:{id:t.review.book.id}}}},[t._v(" "+t._s(t.review.book.title)+" ")])],1):t._e(),"Reviews"===t.$route.name&&t.user&&t.user.id===t.review.user.id?s("div",{staticClass:"mt-4 text-xs text-gray-400 flex items-center space-x-2"},[s("span",{staticClass:"cursor-pointer hover:text-primary-300 transition",on:{click:function(e){return t.openEditMenu()}}},[t._v("Modifica")]),s("span",{staticClass:"cursor-pointer hover:text-red-500 transition",on:{click:function(e){return t.deleteReview()}}},[t._v("Elimina")])]):t._e()])])])},r=[],a=(s("a9e3"),s("82ef")),n={name:"singleReview",components:{userImage:a["a"]},props:{review:{type:Object,required:!0},index:{type:Number,required:!1}},computed:{user:function(){return this.$store.getters["auth/user"]}},methods:{deleteReview:function(){confirm("Eliminare la recensione?")&&this.$store.dispatch("reviews/deleteReview",{id:this.review.id,index:this.index})},openEditMenu:function(){this.$emit("openEditMenu",this.review)}}},o=n,l=s("2877"),c=Object(l["a"])(o,i,r,!1,null,null,null);e["a"]=c.exports},a9e3:function(t,e,s){"use strict";var i=s("83ab"),r=s("da84"),a=s("e330"),n=s("94ca"),o=s("6eeb"),l=s("1a2d"),c=s("7156"),u=s("3a9b"),d=s("d9b5"),v=s("c04e"),f=s("d039"),g=s("241c").f,m=s("06cf").f,h=s("9bf2").f,w=s("408a"),b=s("58a8").trim,x="Number",p=r[x],k=p.prototype,C=r.TypeError,y=a("".slice),_=a("".charCodeAt),R=function(t){var e=v(t,"number");return"bigint"==typeof e?e:$(e)},$=function(t){var e,s,i,r,a,n,o,l,c=v(t,"number");if(d(c))throw C("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),e=_(c,0),43===e||45===e){if(s=_(c,2),88===s||120===s)return NaN}else if(48===e){switch(_(c,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(a=y(c,2),n=a.length,o=0;o<n;o++)if(l=_(a,o),l<48||l>r)return NaN;return parseInt(a,i)}return+c};if(n(x,!p(" 0o1")||!p("0b1")||p("+0x1"))){for(var S,L=function(t){var e=arguments.length<1?0:p(R(t)),s=this;return u(k,s)&&f((function(){w(s)}))?c(Object(e),s,L):e},q=i?g(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),B=0;q.length>B;B++)l(p,S=q[B])&&!l(L,S)&&h(L,S,m(p,S));L.prototype=k,k.constructor=L,o(r,x,L)}},ec10:function(t,e,s){}}]);
//# sourceMappingURL=bookShow.689358a5.js.map