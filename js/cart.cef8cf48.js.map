{"version":3,"sources":["webpack:///./src/components/Layout/pageHeader.vue?b5b1","webpack:///src/components/Layout/pageHeader.vue","webpack:///./src/components/Layout/pageHeader.vue?509c","webpack:///./src/components/Layout/pageHeader.vue","webpack:///./src/components/Layout/quantityErrors.vue?6718","webpack:///src/components/Layout/quantityErrors.vue","webpack:///./src/components/Layout/quantityErrors.vue?50b4","webpack:///./src/components/Layout/quantityErrors.vue","webpack:///./src/views/Cart.vue?73a5","webpack:///src/views/Cart.vue","webpack:///./src/views/Cart.vue?8aa5","webpack:///./src/views/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","text","staticRenderFns","component","_l","error","index","key","book_id","item","book","id","attrs","message","on","$event","removeErrorMessage","_e","items","length","errors","name","params","title","author","genre","_f","description","decreaseQuantity","quantity","increaseQuantity","price","removeFromCart","moveToFavourite","total","removeAllFromCart"],"mappings":"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","file":"js/cart.cef8cf48.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"border-b border-gray-200 py-8 mb-6\"},[_c('p',{staticClass:\"text-lg text-gray-600\"},[_vm._v(_vm._s(_vm.text))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <header class=\"border-b border-gray-200 py-8 mb-6\">\r\n        <p class=\"text-lg text-gray-600\">{{ text }}</p>\r\n    </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'pageHeader',\r\n    props: {\r\n        text: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pageHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pageHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pageHeader.vue?vue&type=template&id=ee794fec&\"\nimport script from \"./pageHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./pageHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.errors),function(error,index){return _c('div',{key:index},[(error.book_id === _vm.item.book.id)?_c('div',{staticClass:\"bg-blue-100 text-blue-500 text-sm p-4 rounded-lg my-4 flex items-start space-x-2\"},[_c('div',{staticClass:\"flex items-start space-x-3 w-full\"},[_c('svg',{staticClass:\"w-5 h-5 flex-none\",attrs:{\"id\":\"Layer_1\",\"data-name\":\"Layer 1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M12,2A10,10,0,1,0,22,12,10.01114,10.01114,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20Zm0-8.5a1,1,0,0,0-1,1v3a1,1,0,0,0,2,0v-3A1,1,0,0,0,12,11.5Zm0-4a1.25,1.25,0,1,0,1.25,1.25A1.25,1.25,0,0,0,12,7.5Z\"}})]),_c('span',[_vm._v(_vm._s(error.message))])]),_c('div',{staticClass:\"hover:bg-blue-200 p-1 rounded-full cursor-pointer\",on:{\"click\":function($event){return _vm.removeErrorMessage(index)}}},[_c('svg',{staticClass:\"w-5 h-5 flex-none\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z\"}})])])]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div\r\n            v-for=\"error, index in errors\"\r\n            :key=\"index\">\r\n                <div\r\n                    class=\"bg-blue-100 text-blue-500 text-sm p-4 rounded-lg my-4 flex items-start space-x-2\"\r\n                    v-if=\"error.book_id === item.book.id\">\r\n                        <div class=\"flex items-start space-x-3 w-full\">\r\n                            <svg class=\"w-5 h-5 flex-none\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,2A10,10,0,1,0,22,12,10.01114,10.01114,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20Zm0-8.5a1,1,0,0,0-1,1v3a1,1,0,0,0,2,0v-3A1,1,0,0,0,12,11.5Zm0-4a1.25,1.25,0,1,0,1.25,1.25A1.25,1.25,0,0,0,12,7.5Z\"/></svg>\r\n                            <span>{{ error.message }}</span>\r\n                        </div>\r\n                        <div\r\n                            @click=\"removeErrorMessage(index)\"\r\n                            class=\"hover:bg-blue-200 p-1 rounded-full cursor-pointer\">\r\n                                <svg class=\"w-5 h-5 flex-none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z\"/></svg>\r\n                        </div>\r\n                </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'quantityErrors',\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        errors: {\r\n            type: Array,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        removeErrorMessage(index) {\r\n            this.errors.splice(index, 1)\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quantityErrors.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./quantityErrors.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./quantityErrors.vue?vue&type=template&id=035cd4ae&\"\nimport script from \"./quantityErrors.vue?vue&type=script&lang=js&\"\nexport * from \"./quantityErrors.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.items.length > 0)?_c('div',[_c('pageHeader',{attrs:{\"text\":\"Carrello\"}}),_vm._l((_vm.items),function(item,index){return _c('div',{key:index,staticClass:\"py-4\"},[_c('quantityErrors',{attrs:{\"item\":item,\"errors\":_vm.errors}}),_c('section',{staticClass:\"flex space-x-4 items-start\"},[_c('router-link',{attrs:{\"to\":{ name: 'Book.show', params: { id: item.book.id }}}},[_c('div',{staticClass:\"h-36 w-24 flex-none\"},[_c('img',{staticClass:\"object-cover w-full h-full shadow-lg\",attrs:{\"src\":\"https://source.unsplash.com/random\",\"alt\":\"\"}})])]),_c('div',{staticClass:\"flex flex-col space-y-4 md:space-y-0 md:flex-row md:space-x-10 justify-between md:items-center\"},[_c('div',{staticClass:\"w-2/3\"},[_c('h3',{staticClass:\"text-gray-600 leading-tight text-sm md:text-base mb-1\"},[_vm._v(_vm._s(item.book.title))]),_c('div',{staticClass:\"md:flex md:items-center md:space-x-2 text-xs lg:text-sm\"},[_vm._l((item.book.authors),function(author){return _c('router-link',{key:author.id,staticClass:\"block leading-tight text-gray-400 hover:text-gray-600\",attrs:{\"to\":\"\"}},[_vm._v(\" \"+_vm._s(author.name)+\" \")])}),_c('span',{staticClass:\"text-gray-400 text-xs\"},[_vm._v(\"•\")]),_c('div',{staticClass:\"flex items-center space-x-2\"},_vm._l((item.book.genres),function(genre){return _c('router-link',{key:genre.id,staticClass:\"block leading-tight text-gray-400 hover:text-gray-600\",attrs:{\"to\":{ name: 'Genre.show', params: { id: genre.id } }}},[_vm._v(\" \"+_vm._s(genre.name)+\" \")])}),1)],2),_c('p',{staticClass:\"text-xs text-gray-400 leading-tight mt-2 hidden md:block\"},[_vm._v(\" \"+_vm._s(_vm._f(\"truncate\")(item.book.description))+\" \")])]),_c('div',{staticClass:\"flex space-x-1 text-sm\"},[_c('div',{staticClass:\"border py-1 px-3 bg-white text-gray-600 cursor-pointer\",on:{\"click\":function($event){return _vm.decreaseQuantity(item)}}},[_vm._v(\" - \")]),_c('div',{staticClass:\"border py-1 px-3 bg-white text-gray-600\"},[_vm._v(\" \"+_vm._s(item.quantity)+\" \")]),_c('div',{staticClass:\"border py-1 px-3 bg-white text-gray-600 cursor-pointer\",on:{\"click\":function($event){return _vm.increaseQuantity(item)}}},[_vm._v(\" + \")])]),_c('p',{staticClass:\"text-base text-primary-300\"},[_vm._v(\"€\"+_vm._s(item.book.price * item.quantity)+\",00\")]),_c('div',{staticClass:\"flex items-center space-x-2\"},[_c('div',{staticClass:\"text-xs text-gray-400 hover:underline transition cursor-pointer whitespace-nowrap\",on:{\"click\":function($event){return _vm.removeFromCart(item.book, index)}}},[_c('svg',{staticClass:\"w-4 h-4 flex-none text-gray-400 hover:text-gray-600 transition cursor-pointer\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Z\"}})])]),_c('div',{staticClass:\"text-xs text-gray-400 hover:underline transition cursor-pointer whitespace-nowrap\",on:{\"click\":function($event){return _vm.moveToFavourite(item.book, index)}}},[_c('svg',{staticClass:\"w-4 h-4 flex-none text-gray-400 hover:text-gray-600 transition cursor-pointer\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M16,2H8A3,3,0,0,0,5,5V21a1,1,0,0,0,.5.87,1,1,0,0,0,1,0L12,18.69l5.5,3.18A1,1,0,0,0,18,22a1,1,0,0,0,.5-.13A1,1,0,0,0,19,21V5A3,3,0,0,0,16,2Zm1,17.27-4.5-2.6a1,1,0,0,0-1,0L7,19.27V5A1,1,0,0,1,8,4h8a1,1,0,0,1,1,1Z\"}})])])])])],1)],1)}),_c('div',{staticClass:\"flex md:justify-end py-6 mt-6 border-t\"},[_c('div',[_c('p',{staticClass:\"text-gray-400 mb-4\"},[_vm._v(\"Totale €\"+_vm._s(_vm.total)+\",00\")]),_c('router-link',{staticClass:\"block max-w-max bg-secondary-100 hover:bg-secondary-200 transition focus:outline-none text-white text-sm px-4 py-3\",attrs:{\"to\":{ name: 'Checkout' }}},[_vm._v(\" Procedi al pagamento \")]),_c('div',{staticClass:\"mt-1 flex items-center space-x-2 max-w-max text-gray-400 hover:text-gray-600 transition text-xs cursor-pointer\",on:{\"click\":function($event){return _vm.removeAllFromCart()}}},[_c('span',[_vm._v(\"Svuota carrello\")]),_c('svg',{staticClass:\"w-4 h-4 flex-none\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Z\"}})])])],1)])],2):_c('div',{staticClass:\"pt-10 text-sm text-center\"},[_c('p',{staticClass:\"text-gray-400\"},[_vm._v(\"Il tuo carrello è vuoto.\")]),_c('router-link',{staticClass:\"text-gray-500 max-w-max\",attrs:{\"to\":{ name: 'Book.index' }}},[_vm._v(\" Continua lo shopping \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div v-if=\"items.length > 0\">\r\n            <pageHeader\r\n                text=\"Carrello\"\r\n            />\r\n\r\n            <div\r\n                v-for=\"(item, index) in items\"\r\n                :key=\"index\"\r\n                class=\"py-4\">\r\n\r\n                    <quantityErrors\r\n                        :item=\"item\"\r\n                        :errors=\"errors\"    \r\n                    />\r\n                    \r\n                    <section class=\"flex space-x-4 items-start\">\r\n                        <router-link\r\n                            :to=\"{ name: 'Book.show', params: { id: item.book.id }}\">\r\n                                <div class=\"h-36 w-24 flex-none\">\r\n                                    <img\r\n                                        class=\"object-cover w-full h-full shadow-lg\"\r\n                                        src=\"https://source.unsplash.com/random\"\r\n                                        alt=\"\">\r\n                                </div>\r\n                        </router-link>\r\n                        <div class=\"flex flex-col space-y-4 md:space-y-0 md:flex-row md:space-x-10 justify-between md:items-center\">\r\n                            <div class=\"w-2/3\">\r\n                                <h3 class=\"text-gray-600 leading-tight text-sm md:text-base mb-1\">{{ item.book.title }}</h3>\r\n                                <div class=\"md:flex md:items-center md:space-x-2 text-xs lg:text-sm\">\r\n                                    <router-link\r\n                                        v-for=\"author in item.book.authors\"\r\n                                        :key=\"author.id\"\r\n                                        to=\"\"\r\n                                        class=\"block leading-tight text-gray-400 hover:text-gray-600\">\r\n                                            {{ author.name }}\r\n                                    </router-link>\r\n\r\n                                    <span class=\"text-gray-400 text-xs\">&bull;</span>\r\n\r\n                                    <div class=\"flex items-center space-x-2\">\r\n                                        <router-link\r\n                                            v-for=\"genre in item.book.genres\"\r\n                                            :key=\"genre.id\"\r\n                                            :to=\"{ name: 'Genre.show', params: { id: genre.id } }\"\r\n                                            class=\"block leading-tight text-gray-400 hover:text-gray-600\">\r\n                                                {{ genre.name }}\r\n                                        </router-link>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <p class=\"text-xs text-gray-400 leading-tight mt-2 hidden md:block\">\r\n                                    {{ item.book.description | truncate }}\r\n                                </p>\r\n                            </div>\r\n                            \r\n                            <div class=\"flex space-x-1 text-sm\">\r\n                                <div @click=\"decreaseQuantity(item)\" class=\"border py-1 px-3 bg-white text-gray-600 cursor-pointer\">\r\n                                    -\r\n                                </div>\r\n                                <div class=\"border py-1 px-3 bg-white text-gray-600\">\r\n                                    {{ item.quantity }}\r\n                                </div>\r\n                                <div @click=\"increaseQuantity(item)\" class=\"border py-1 px-3 bg-white text-gray-600 cursor-pointer\">\r\n                                    +\r\n                                </div>\r\n                            </div>\r\n\r\n                            <p class=\"text-base text-primary-300\">€{{ item.book.price * item.quantity }},00</p>\r\n                            \r\n                            <div class=\"flex items-center space-x-2\">\r\n                                <div\r\n                                    @click=\"removeFromCart(item.book, index)\"\r\n                                    class=\"text-xs text-gray-400 hover:underline transition cursor-pointer whitespace-nowrap\">\r\n                                        <svg class=\"w-4 h-4 flex-none text-gray-400 hover:text-gray-600 transition cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Z\"/></svg>\r\n                                </div>\r\n                                <div\r\n                                    @click=\"moveToFavourite(item.book, index)\"\r\n                                    class=\"text-xs text-gray-400 hover:underline transition cursor-pointer whitespace-nowrap\">\r\n                                        <svg class=\"w-4 h-4 flex-none text-gray-400 hover:text-gray-600 transition cursor-pointer\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M16,2H8A3,3,0,0,0,5,5V21a1,1,0,0,0,.5.87,1,1,0,0,0,1,0L12,18.69l5.5,3.18A1,1,0,0,0,18,22a1,1,0,0,0,.5-.13A1,1,0,0,0,19,21V5A3,3,0,0,0,16,2Zm1,17.27-4.5-2.6a1,1,0,0,0-1,0L7,19.27V5A1,1,0,0,1,8,4h8a1,1,0,0,1,1,1Z\"/></svg>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n            </div>\r\n\r\n            <!-- Actions and total -->\r\n            <div class=\"flex md:justify-end py-6 mt-6 border-t\">\r\n                <div>\r\n                    <p class=\"text-gray-400 mb-4\">Totale €{{ total }},00</p>\r\n                    <router-link\r\n                        :to=\"{ name: 'Checkout' }\"\r\n                        class=\"block max-w-max bg-secondary-100 hover:bg-secondary-200 transition focus:outline-none text-white text-sm px-4 py-3\">\r\n                            Procedi al pagamento\r\n                    </router-link>\r\n                    <div\r\n                        @click=\"removeAllFromCart()\"\r\n                        class=\"mt-1 flex items-center space-x-2 max-w-max text-gray-400 hover:text-gray-600 transition text-xs cursor-pointer\">\r\n                            <span>Svuota carrello</span>\r\n                            <svg class=\"w-4 h-4 flex-none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Z\"/></svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div\r\n            v-else\r\n            class=\"pt-10 text-sm text-center\">\r\n                <p class=\"text-gray-400\">Il tuo carrello è vuoto.</p>\r\n                <router-link\r\n                    class=\"text-gray-500 max-w-max\"\r\n                    :to=\"{ name: 'Book.index' }\">\r\n                        Continua lo shopping\r\n                </router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport pageHeader from '@/components/Layout/pageHeader'\r\nimport quantityErrors from '@/components/Layout/quantityErrors'\r\n\r\nexport default {\r\n    name: 'Cart',\r\n    components: {\r\n        pageHeader,\r\n        quantityErrors\r\n    },\r\n    mounted() {\r\n        this.checkQuantity()\r\n    },\r\n    data() {\r\n        return {\r\n            errors: [\r\n                {\r\n                    message: '',\r\n                    book_id: '',\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    computed: {\r\n        items() {\r\n            return this.$store.getters['cart/items']\r\n        },\r\n        favourites() {\r\n            return this.$store.getters['favourites/favourites']\r\n        },\r\n        total() {\r\n            let total = 0;\r\n\r\n            this.items.forEach(item => {\r\n                return total = total + (item.book.price * item.quantity)\r\n            });\r\n\r\n            return total\r\n        }\r\n    },\r\n    methods: {\r\n        removeFromCart(item, index) {\r\n            this.$store.dispatch('cart/removeFromCart', { \r\n                book: item,\r\n                index: index\r\n            })\r\n        },\r\n        moveToFavourite(item, index) {\r\n            this.removeFromCart(item, index)\r\n\r\n            let inFavourite = this.favourites.find(book => {\r\n                return book.id == item.id\r\n            })\r\n\r\n            if (inFavourite) {\r\n                alert('Questo libro è già presente nella tua lista preferiti.')\r\n                return\r\n            }\r\n\r\n            this.$store.dispatch('favourites/addToFavourite', { book: item })\r\n        },\r\n        removeAllFromCart() {\r\n            this.$store.dispatch('cart/removeAllFromCart')\r\n        },\r\n        decreaseQuantity(item) {\r\n            if (item.quantity <= 1) {\r\n                return\r\n            }\r\n            this.$store.dispatch('cart/decreaseQuantity', { book: item.book })\r\n        },\r\n        increaseQuantity(item) {\r\n            if (item.quantity == item.book.quantity_in_stock) {\r\n                alert(item.book.quantity_in_stock == 1 ? 'E\\' rimasta solo 1 copia' : 'Sono rimaste solo ' + item.book.quantity_in_stock + ' copie')\r\n                return\r\n            }\r\n            this.$store.dispatch('cart/increaseQuantity', { item: item })\r\n        },\r\n        checkQuantity() {\r\n            this.items.forEach(item => {\r\n                if (item.quantity > item.book.quantity_in_stock) {\r\n                    this.errors.push({\r\n                        message: 'Sono disponibili solo ' + item.book.quantity_in_stock + ' copie di \"' + item.book.title + '\"',\r\n                        book_id: item.book.id\r\n                    })\r\n\r\n                    this.$store.dispatch('cart/adjustQuantity', {item: item})\r\n                }\r\n            })\r\n        },\r\n    },\r\n    filters: {\r\n        truncate(text) {\r\n            if (text.length > 150) {\r\n                return text.substring(0, 150) + '...'\r\n            } else {\r\n                return text\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=1b4ea8bd&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}